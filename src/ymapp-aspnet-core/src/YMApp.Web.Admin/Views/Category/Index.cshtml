@model YMApp.Web.Admin.Models.Category.CategoryIndexViewModel
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var categorys = Model.Categorys;
}

@section scripts{
    <script src="~/view-resources/views/category/index.js" asp-append-version="true"></script>
}
<div class="layui-row layui-col-space15">
    <div class="layui-col-md12">
        <div class="layui-card">
            <div class="layui-card-body ">
                <form class="layui-form layui-col-space5">
                    <div class="layui-input-inline layui-show-xs-block">
                        <input class="layui-input" placeholder="分类名" name="cate_name">
                    </div>
                    <div class="layui-input-inline layui-show-xs-block">
                        <button class="layui-btn" lay-submit="" lay-filter="sreach"><i class="layui-icon"></i>增加</button>
                    </div>
                </form>
                <hr>
                <blockquote class="layui-elem-quote">每个tr 上有两个属性 cate-id='1' 当前分类id fid='0' 父级id ,顶级分类为 0，有子分类的前面加收缩图标<i class="layui-icon x-show" status='true'>&#xe623;</i></blockquote>
            </div>
            <div class="layui-card-header">
                <button class="layui-btn layui-btn-danger" onclick="delAll()">
                    <i class="layui-icon"></i>批量删除
                </button>
            </div>
            <div class="layui-card-body ">
                <table class="layui-table layui-form">
                    <thead>
                        <tr>
                            <th width="20">
                                <input type="checkbox" name="" lay-skin="primary">
                            </th>
                            <th width="70">ID</th>
                            <th>栏目名</th>
                            <th width="50">排序</th>
                            <th width="80">状态</th>
                            <th width="250">操作</th>
                    </thead>
                    <tbody class="x-cate">
                        @foreach (var item in categorys)
                        {
                            <tr cate-id='@item.Id' fid='@item.ParentId'>
                                <td>
                                    <input type="checkbox" name="" lay-skin="primary">
                                </td>
                                <td>1</td>
                                <td>
                                    @if (categorys.Where(m => m.ParentId == item.Id).Count() > 0)
                                    {
                                        <i class="layui-icon x-show" status='true'>&#xe623;</i>
                                        @item.Name
                                    }
                                    else

                                    {
                                        <div>
                                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;├@item.Name
                                        </div>
                                    }

                                </td>
                                <td><input type="text" class="layui-input x-sort" name="order" value="1"></td>
                                <td>
                                    <input type="checkbox" name="switch" lay-text="开启|停用" checked="" lay-skin="switch">
                                </td>
                                <td class="td-manage">
                                    <button class="layui-btn layui-btn layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>编辑</button>
                                    <button class="layui-btn layui-btn-warm layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>添加子栏目</button>
                                    <button class="layui-btn-danger layui-btn layui-btn-xs" onclick="member_del(this,'要删除的id')" href="javascript:;"><i class="layui-icon">&#xe640;</i>删除</button>
                                </td>
                            </tr>
                        }

                        @*<tr cate-id='2' fid='1'>
                                <td>
                                    <input type="checkbox" name="" lay-skin="primary">
                                </td>
                                <td>2</td>
                                <td>
                                    &nbsp;&nbsp;&nbsp;&nbsp;
                                    <i class="layui-icon x-show" status='true'>&#xe623;</i>
                                    产品列表
                                </td>
                                <td><input type="text" class="layui-input x-sort" name="order" value="1"></td>
                                <td>
                                    <input type="checkbox" name="switch" lay-text="开启|停用" checked="" lay-skin="switch">
                                </td>
                                <td class="td-manage">
                                    <button class="layui-btn layui-btn layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>编辑</button>
                                    <button class="layui-btn layui-btn-warm layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>添加子栏目</button>
                                    <button class="layui-btn-danger layui-btn layui-btn-xs" onclick="member_del(this,'要删除的id')" href="javascript:;"><i class="layui-icon">&#xe640;</i>删除</button>
                                </td>
                            </tr>
                            <tr cate-id='3' fid='2'>
                                <td>
                                    <input type="checkbox" name="" lay-skin="primary">
                                </td>
                                <td>3</td>
                                <td>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    ├产品列表
                                </td>
                                <td><input type="text" class="layui-input x-sort" name="order" value="1"></td>
                                <td>
                                    <input type="checkbox" name="switch" lay-text="开启|停用" checked="" lay-skin="switch">
                                </td>
                                <td class="td-manage">
                                    <button class="layui-btn layui-btn layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>编辑</button>
                                    <button class="layui-btn layui-btn-warm layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>添加子栏目</button>
                                    <button class="layui-btn-danger layui-btn layui-btn-xs" onclick="member_del(this,'要删除的id')" href="javascript:;"><i class="layui-icon">&#xe640;</i>删除</button>
                                </td>
                            </tr>
                            <tr cate-id='4' fid='2'>
                                <td>
                                    <input type="checkbox" name="" lay-skin="primary">
                                </td>
                                <td>4</td>
                                <td>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    ├产品列表
                                </td>
                                <td><input type="text" class="layui-input x-sort" name="order" value="1"></td>
                                <td>
                                    <input type="checkbox" name="switch" lay-text="开启|停用" checked="" lay-skin="switch">
                                </td>
                                <td class="td-manage">
                                    <button class="layui-btn layui-btn layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>编辑</button>
                                    <button class="layui-btn layui-btn-warm layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>添加子栏目</button>
                                    <button class="layui-btn-danger layui-btn layui-btn-xs" onclick="member_del(this,'要删除的id')" href="javascript:;"><i class="layui-icon">&#xe640;</i>删除</button>
                                </td>
                            </tr>
                            <tr cate-id='5' fid='0'>
                                <td>
                                    <input type="checkbox" name="" lay-skin="primary">
                                </td>
                                <td>5</td>
                                <td>

                                    <i class="layui-icon x-show" status='true'>&#xe623;</i>新闻
                                </td>
                                <td><input type="text" class="layui-input x-sort" name="order" value="1"></td>
                                <td>
                                    <input type="checkbox" name="switch" lay-text="开启|停用" checked="" lay-skin="switch">
                                </td>
                                <td class="td-manage">
                                    <button class="layui-btn layui-btn layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>编辑</button>
                                    <button class="layui-btn layui-btn-warm layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>添加子栏目</button>
                                    <button class="layui-btn-danger layui-btn layui-btn-xs" onclick="member_del(this,'要删除的id')" href="javascript:;"><i class="layui-icon">&#xe640;</i>删除</button>
                                </td>
                            </tr>
                            <tr cate-id='6' fid='5'>
                                <td>
                                    <input type="checkbox" name="" lay-skin="primary">
                                </td>
                                <td>6</td>
                                <td>
                                    &nbsp;&nbsp;&nbsp;&nbsp;
                                    ├国内新闻
                                </td>
                                <td><input type="text" class="layui-input x-sort" name="order" value="1"></td>
                                <td>
                                    <input type="checkbox" name="switch" lay-text="开启|停用" checked="" lay-skin="switch">
                                </td>
                                <td class="td-manage">
                                    <button class="layui-btn layui-btn layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>编辑</button>
                                    <button class="layui-btn layui-btn-warm layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>添加子栏目</button>
                                    <button class="layui-btn-danger layui-btn layui-btn-xs" onclick="member_del(this,'要删除的id')" href="javascript:;"><i class="layui-icon">&#xe640;</i>删除</button>
                                </td>
                            </tr>
                            <tr cate-id='7' fid='5'>
                                <td>
                                    <input type="checkbox" name="" lay-skin="primary">
                                </td>
                                <td>7</td>
                                <td>
                                    &nbsp;&nbsp;&nbsp;&nbsp;
                                    ├国外新闻
                                </td>
                                <td><input type="text" class="layui-input x-sort" name="order" value="1"></td>
                                <td>
                                    <input type="checkbox" name="switch" lay-text="开启|停用" checked="" lay-skin="switch">
                                </td>
                                <td class="td-manage">
                                    <button class="layui-btn layui-btn layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>编辑</button>
                                    <button class="layui-btn layui-btn-warm layui-btn-xs" onclick="xadmin.open('编辑','admin-edit.html')"><i class="layui-icon">&#xe642;</i>添加子栏目</button>
                                    <button class="layui-btn-danger layui-btn layui-btn-xs" onclick="member_del(this,'要删除的id')" href="javascript:;"><i class="layui-icon">&#xe640;</i>删除</button>
                                </td>
                            </tr>*@
                    </tbody>
                </table>
            </div>
            @*<div class="layui-card-body ">
                    <div class="page">
                        <div>
                            <a class="prev" href="">&lt;&lt;</a>
                            <a class="num" href="">1</a>
                            <span class="current">2</span>
                            <a class="num" href="">3</a>
                            <a class="num" href="">489</a>
                            <a class="next" href="">&gt;&gt;</a>
                        </div>
                    </div>
                </div>*@
        </div>
    </div>
</div>

